{% for result in results %}
<div class="result-card">
    <div class="source">{{ result.source }}</div>
    <a href="{{ result.link }}" target="_blank">{{ result.title }}</a>
    <div style="margin-top: 10px;">
        {% if result.source == 'Spotify' %}
            <a href="{{ result.link }}" target="_blank" class="result-button">Listen Now</a>
            <button class="result-button copy" onclick="copyToClipboard('{{ result.link }}')">Copy Link</button>
        {% elif result.source == 'YouTube' %}
            <a href="{{ result.link }}" target="_blank" class="result-button">Watch Now</a>
            <button class="result-button copy" onclick="copyToClipboard('{{ result.link }}')">Copy Link</button>
        {% elif 'Jackett' in result.source or '1337x' in result.source or 'Torlock' in result.source %}
            <a href="{{ result.link }}" target="_blank" class="result-button">Go to Torrent</a>
            {% if result.magnet %}
            <button class="result-button copy" onclick="copyToClipboard('{{ result.magnet }}')">Copy Magnet Link</button>
            {% endif %}
        {% else %}
            <a href="{{ result.link }}" target="_blank" class="result-button">Open</a>
        {% endif %}
    </div>
</div>
{% endfor %}